---
const personalImageAlt = "Enrique Pitta - Desarrollador de software"
import Badge from "@/components/Badge.astro"
import LinkedInIcon from "@/components/icons/LinkedIn.astro"
import MailIcon from "@/components/icons/Mail.astro"
import SocialPill from "@/components/SocialPill.astro"
---

<div class="max-w-xl">
  <div class="flex gap-4 mb-4 items-center">
    <img
        class="rounded-full shadow-lg size-16"
        src="/profileep.JPG"
        alt={personalImageAlt}
    />
    <a
        href="https://www.linkedin.com/in/enrique-pitta"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center transition md:justify-center md:hover:scale-105"
    >
      <Badge>Interesado en proyectos freelance</Badge>
    </a>
  </div>

  <h1 class="text-4xl font-bold tracking-tight text-gray-800 sm:text-5xl dark:text-white">
    ¡Hola! Soy Enrique Pitta
  </h1>

  <div class="flex text-2xl font-semibold text-yellow-500 mt-2 min-h-[2.5rem]">
    <span>Desarrollador&nbsp;</span>
    <span id="typewriter" class="inline-block border-r-2 border-yellow-500 whitespace-nowrap overflow-hidden"></span>
  </div>

  <p class="mt-6 text-lg text-gray-800 dark:text-gray-300 [&>strong]:text-yellow-500 [&>strong]:font-semibold dark:[&>strong]:text-yellow-200">
    Desarrollador móvil con <strong>+3 años de experiencia</strong> en <strong>iOS (Swift, Objective-C)</strong>, <strong>Android (Java)</strong> y <strong>Flutter</strong>. Especializado en diseño de interfaces intuitivas, integración de APIs REST y desarrollo backend. Apasionado por crear <strong>soluciones escalables y eficientes</strong>.
  </p>

  <p class="mt-4 text-base text-gray-700 dark:text-gray-400 [&>strong]:text-yellow-500 [&>strong]:font-semibold dark:[&>strong]:text-yellow-200">
    Actualmente trabajo en <strong>TAXit!</strong>, donde doy soporte y mejoras a su app móvil en <strong>iOS y Android</strong>, con foco en <strong>facturación electrónica</strong> e integración de <strong>APIs REST</strong>.
  </p>

  <nav class="flex flex-wrap gap-4 mt-8">
    <SocialPill href="mailto:enriquearielpitta@gmail.com">
      <MailIcon class="size-4" />
      Contáctame
    </SocialPill>
    <SocialPill href="https://www.linkedin.com/in/enrique-pitta">
      <LinkedInIcon class="size-4" />
      LinkedIn
    </SocialPill>
  </nav>

  <div class="mt-6">
    <a
        href="/CV-EnriquePitta-MobileDeveloper.pdf"
        download
        class="inline-block px-6 py-3 text-lg font-semibold text-yellow-500 border-2 border-yellow-500 rounded-lg hover:bg-yellow-500 hover:text-white transition-colors"
    >
      Descargar CV
    </a>
  </div>

  <script>
    const roles = [
      "Mobile.",
      "iOS.",
      "Android.",
      "Flutter.",
      "Backend.",
      "Fullstack."
    ];

    const typewriter = document.getElementById("typewriter");

    let roleIndex = 0;
    let charIndex = 0;
    let isDeleting = false;

    function type() {
      const currentRole = roles[roleIndex];
      const displayedText = currentRole.substring(0, charIndex);

      typewriter!.textContent = displayedText;

      if (!isDeleting) {
        if (charIndex < currentRole.length) {
          charIndex++;
          setTimeout(type, 100);
        } else {
          isDeleting = true;
          setTimeout(type, 1500);
        }
      } else {
        if (charIndex > 0) {
          charIndex--;
          setTimeout(type, 50);
        } else {
          isDeleting = false;
          roleIndex = (roleIndex + 1) % roles.length;
          setTimeout(type, 300);
        }
      }
    }

    type();
  </script>

  <style>
    #typewriter {
      animation: blink-caret 0.7s steps(1) infinite;
    }

    @keyframes blink-caret {
      0%, 100% {
        border-color: transparent;
      }
      50% {
        border-color: #facc15;
      }
    }
  </style>
</div>